<view class="admin-project"><view class="head"><image class="head-svg" src="{{a}}" bindtap="{{b}}"></image><view class="head-button button-line">项目管理</view><view class="head-button button-guid" bindtap="{{c}}">新增项目</view></view><view class="project-content"><view wx:if="{{d}}" class="loading-container"><view class="loading-spinner"></view><view class="loading-text">加载中...</view></view><view wx:elif="{{e}}" class="error-container"><view class="error-icon">⚠️</view><view class="error-text">{{f}}</view><view class="error-retry" bindtap="{{g}}">重试</view></view><view wx:else><view class="search-section"><view class="search-box"><image class="search-icon" src="{{h}}"></image><input class="search-input" placeholder="搜索项目名称" bindinput="{{i}}" value="{{j}}"/></view><view class="filter-btn" bindtap="{{l}}"><image class="filter-icon" src="{{k}}"></image> 筛选 </view></view><view wx:if="{{m}}" class="filter-section"><view class="filter-item"><text class="filter-label">分类：</text><picker bindchange="{{o}}" value="{{p}}" range="{{q}}"><view class="filter-picker">{{n}}</view></picker></view><view class="filter-item"><text class="filter-label">状态：</text><picker bindchange="{{s}}" value="{{t}}" range="{{v}}"><view class="filter-picker">{{r}}</view></picker></view></view><view class="project-list"><view wx:for="{{w}}" wx:for-item="project" wx:key="n" class="project-item" bindtap="{{project.o}}"><view class="project-image"><image src="{{project.a}}" class="project-img" mode="aspectFill"></image><view class="{{['project-status', project.c]}}" catchtap="{{project.d}}">{{project.b}}</view></view><view class="project-info"><view class="project-title">{{project.e}}</view><view class="project-desc">{{project.f}}</view><view class="project-meta"><view class="project-category">{{project.g}}</view><view class="project-date">{{project.h}}</view></view><view class="project-tags"><view wx:for="{{project.i}}" wx:for-item="tag" wx:key="b" class="tag">{{tag.a}}</view></view><view wx:if="{{project.j}}" class="project-technologies"><view wx:for="{{project.k}}" wx:for-item="tech" wx:key="c" class="tech-item"><image class="tech-icon" src="{{tech.a}}" mode="aspectFit"></image><text class="tech-name">{{tech.b}}</text></view></view></view><view class="project-actions"><view class="action-btn edit-btn" catchtap="{{project.l}}"><image class="action-icon" src="{{x}}"></image></view><view class="action-btn delete-btn" catchtap="{{project.m}}"><image class="action-icon" src="{{y}}"></image></view></view></view></view><view wx:if="{{z}}" class="empty-state"><image class="empty-icon" src="{{A}}"></image><view class="empty-text">暂无项目数据</view></view></view><view wx:if="{{B}}" class="project-modal" bindtap="{{ak}}"><view class="project-modal-content" catchtap="{{aj}}"><view class="modal-header"><view class="modal-title">{{C}}</view><view class="modal-close" bindtap="{{D}}">×</view></view><view class="modal-body"><view class="form-group"><view class="form-label">项目名称</view><input class="form-input" placeholder="请输入项目名称" value="{{E}}" bindinput="{{F}}"/></view><view class="form-group"><view class="form-label">项目描述</view><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="请输入项目描述" value="{{G}}" bindinput="{{H}}"></textarea></block></view><view class="form-group"><view class="form-label">项目分类</view><picker bindchange="{{J}}" value="{{K}}" range="{{L}}"><view class="form-picker">{{I}}</view></picker></view><view class="form-group"><view class="form-label">项目状态</view><picker bindchange="{{N}}" value="{{O}}" range="{{P}}"><view class="form-picker">{{M}}</view></picker></view><view class="form-group"><view class="form-label">关联客户</view><picker bindchange="{{R}}" value="{{S}}" range="{{T}}" range-key="name"><view class="form-picker">{{Q}}</view></picker><view class="client-selector-actions"><button class="client-selector-btn" bindtap="{{U}}">选择客户</button></view></view><view class="form-group"><view class="form-label">项目标签</view><input class="form-input" placeholder="请输入标签，用逗号分隔" value="{{V}}" bindinput="{{W}}"/></view><view class="form-group"><view class="form-label">关联技术</view><view class="technology-selector"><view wx:if="{{X}}" class="selected-technologies"><view wx:for="{{Y}}" wx:for-item="tech" wx:key="d" class="tech-tag"><image class="tech-icon" src="{{tech.a}}" mode="aspectFit"></image><text class="tech-name">{{tech.b}}</text><view class="tech-remove" bindtap="{{tech.c}}">×</view></view></view><view class="tech-selector-btn" bindtap="{{ab}}"><image class="selector-icon" src="{{Z}}" mode="aspectFit"></image><text class="selector-text">{{aa}}</text></view></view></view><view class="form-group"><view class="form-label">项目图片 <text class="form-required">(至少1张，最多9张)</text></view><view class="image-uploader"><view class="image-list"><view wx:for="{{ac}}" wx:for-item="image" wx:key="c" class="image-item"><image src="{{image.a}}" class="uploaded-image" mode="aspectFill"></image><view class="image-delete" catchtap="{{image.b}}">×</view></view><view wx:if="{{ad}}" class="image-add" bindtap="{{ae}}"><view class="add-icon">+</view><view class="add-text">添加图片</view></view></view><view wx:if="{{af}}" class="image-tips">{{ag}}</view></view></view></view><view class="modal-actions"><button class="modal-cancel" bindtap="{{ah}}">取消</button><button class="modal-confirm" bindtap="{{ai}}">保存</button></view></view></view></view><view wx:if="{{al}}" class="client-selector-modal" bindtap="{{av}}"><view class="client-selector-content" catchtap="{{at}}"><view class="selector-header"><view class="selector-title">选择关联客户</view><view class="selector-close" bindtap="{{am}}">×</view></view><view class="selector-body"><view class="client-search"><input class="client-search-input" placeholder="搜索客户名称" value="{{an}}" bindinput="{{ao}}"/></view><view class="client-list"><view wx:for="{{ap}}" wx:for-item="client" wx:key="f" class="{{['client-item', client.g && 'selected']}}" bindtap="{{client.h}}"><view class="client-item-info"><text class="client-item-name">{{client.a}}</text><text class="client-item-contact">联系人: {{client.b}}</text><text class="client-item-phone">电话: {{client.c}}</text></view><view class="client-item-checkbox"><view class="{{['checkbox', client.e && 'checked']}}"><text wx:if="{{client.d}}" class="checkmark">✓</text></view></view></view><view wx:if="{{aq}}" class="no-clients"><view class="no-data-icon">👤</view><view class="no-data-text">未找到匹配的客户</view></view></view></view><view class="selector-footer"><button class="selector-cancel" bindtap="{{ar}}">取消</button><button class="selector-confirm" bindtap="{{as}}">确定</button></view></view></view><view wx:if="{{aw}}" class="technology-selector-modal" bindtap="{{aE}}"><view class="technology-selector-content" catchtap="{{aD}}"><view class="selector-header"><view class="selector-title">选择关联技术</view><view class="selector-close" bindtap="{{ax}}">×</view></view><view class="selector-body"><view class="tech-search"><input class="tech-search-input" placeholder="搜索技术名称" value="{{ay}}" bindinput="{{az}}"/></view><view class="tech-list"><view wx:for="{{aA}}" wx:for-item="tech" wx:key="g" class="{{['tech-item', tech.h && 'selected']}}" bindtap="{{tech.i}}"><image class="tech-item-icon" src="{{tech.a}}" mode="aspectFit"></image><view class="tech-item-info"><text class="tech-item-name">{{tech.b}}</text><text class="{{['tech-item-status', tech.d]}}">{{tech.c}}</text></view><view class="tech-item-checkbox"><view class="{{['checkbox', tech.f && 'checked']}}"><text wx:if="{{tech.e}}" class="checkmark">✓</text></view></view></view></view></view><view class="selector-footer"><button class="selector-cancel" bindtap="{{aB}}">取消</button><button class="selector-confirm" bindtap="{{aC}}">确定</button></view></view></view></view>