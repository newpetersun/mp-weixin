"use strict";const e=require("../../common/vendor.js"),t=require("../../config/config.js");require("../../utils/api.js");const i={data:()=>({timeRange:"week",overview:{visits:1247,visitsTrend:12.5,users:892,usersTrend:8.3,messages:156,messagesTrend:-2.1,projects:12,projectsTrend:0},popularPages:[{title:"首页",path:"/",views:1247},{title:"项目展示",path:"/projects",views:892},{title:"联系我们",path:"/contact",views:456},{title:"LikeSee项目详情",path:"/projects/1",views:234},{title:"数据可视化项目",path:"/projects/2",views:189}],behavior:{avgTime:"3分25秒",bounceRate:35.2,conversionRate:8.7},deviceStats:[{type:"desktop",name:"桌面端",description:"电脑和笔记本",percentage:45.2,count:564,icon:"/static/svg/desktop.svg"},{type:"mobile",name:"移动端",description:"手机和平板",percentage:42.8,count:534,icon:"/static/svg/mobile.svg"},{type:"tablet",name:"平板端",description:"iPad等平板设备",percentage:12,count:149,icon:"/static/svg/tablet.svg"}]}),methods:{getStaticUrl:e=>t.CONFIG_UTILS.getStaticUrl(e),goBack(){e.index.navigateBack()},setTimeRange(e){this.timeRange=e,this.refreshData()},refreshData(){e.index.showLoading({title:"加载中..."}),setTimeout((()=>{e.index.hideLoading(),e.index.showToast({title:"数据已更新",icon:"success"})}),1500)}},onLoad(){const t=e.index.getStorageSync("wechat_token"),i=e.index.getStorageSync("userInfo");return t&&i?"admin"!==i.user_type?(e.index.showToast({title:"无管理员权限",icon:"none",duration:2e3}),void setTimeout((()=>{e.index.redirectTo({url:"/pages/index/index"})}),2e3)):void 0:(e.index.showToast({title:"请先登录",icon:"none",duration:2e3}),void setTimeout((()=>{e.index.redirectTo({url:"/pages/index/index"})}),2e3))}};const s=e._export_sfc(i,[["render",function(t,i,s,r,n,o){return{a:o.getStaticUrl("/static/svg/left.svg"),b:e.o(((...e)=>o.goBack&&o.goBack(...e))),c:e.o(((...e)=>o.refreshData&&o.refreshData(...e))),d:"today"===n.timeRange?1:"",e:e.o((e=>o.setTimeRange("today"))),f:"week"===n.timeRange?1:"",g:e.o((e=>o.setTimeRange("week"))),h:"month"===n.timeRange?1:"",i:e.o((e=>o.setTimeRange("month"))),j:"year"===n.timeRange?1:"",k:e.o((e=>o.setTimeRange("year"))),l:o.getStaticUrl("/static/svg/eye.svg"),m:e.t(n.overview.visits),n:e.t(n.overview.visitsTrend>0?"+":""),o:e.t(n.overview.visitsTrend),p:e.n(n.overview.visitsTrend>0?"trend-up":"trend-down"),q:o.getStaticUrl("/static/svg/user.svg"),r:e.t(n.overview.users),s:e.t(n.overview.usersTrend>0?"+":""),t:e.t(n.overview.usersTrend),v:e.n(n.overview.usersTrend>0?"trend-up":"trend-down"),w:o.getStaticUrl("/static/svg/message-emoji.svg"),x:e.t(n.overview.messages),y:e.t(n.overview.messagesTrend>0?"+":""),z:e.t(n.overview.messagesTrend),A:e.n(n.overview.messagesTrend>0?"trend-up":"trend-down"),B:o.getStaticUrl("/static/svg/project.svg"),C:e.t(n.overview.projects),D:e.t(n.overview.projectsTrend>0?"+":""),E:e.t(n.overview.projectsTrend),F:e.n(n.overview.projectsTrend>0?"trend-up":"trend-down"),G:o.getStaticUrl("/static/svg/chart.svg"),H:e.f(n.popularPages,((t,i,s)=>({a:e.t(i+1),b:e.t(t.title),c:e.t(t.path),d:e.t(t.views),e:t.path}))),I:e.t(n.behavior.avgTime),J:e.t(n.behavior.bounceRate),K:e.t(n.behavior.conversionRate),L:e.f(n.deviceStats,((t,i,s)=>({a:o.getStaticUrl(t.icon),b:e.t(t.name),c:e.t(t.description),d:e.t(t.percentage),e:e.t(t.count),f:t.type})))}}]]);wx.createPage(s);
